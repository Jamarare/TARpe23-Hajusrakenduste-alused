<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>GitHub Profile Viewer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .content {
            margin-top: 20px;
        }
        input {
            padding: 8px;
            width: 250px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <h1>GitHub profile viewer</h1>
    <p>Please enter profile name:</p>
    <input id="profileInput" placeholder="Enter GitHub username" />

    <div class="content" id="app">
        <h1 id="name"></h1>
        <p id="id"></p>
        <p id="repos"></p>
        <p id="profileurl"></p>
    </div>

    <script>
        let givenProfile = "";
        let profileName = "";
        let profileId = "";
        let profileLink = "";
        let profileRepos = "";
    
        function renderPage() {
            document.getElementById("app").innerHTML = `
                <h1 id="name">Name: ${profileName}</h1>
                <p id="id">Id: ${profileId}</p>
                <p id="repos">Public repos: ${profileRepos}</p>
                <p id="profileurl">Link: <a href="${profileLink}" target="_blank">${profileLink}</a></p>
            `;
        }
    
        async function fetchProfile() {
            if (!givenProfile) return;
            try {
                const response = await fetch(`https://api.github.com/users/${givenProfile}`, {
                    headers: {
                        Authorization: 'github key'
                    }
                });
                if (!response.ok) {
                    throw new Error("User not found");
                }
                const data = await response.json();
    
                profileName = data.name || "No name provided";
                profileId = data.id;
                profileLink = data.html_url;
                profileRepos = data.public_repos;
    
                renderPage();
            } catch (error) {
                document.getElementById("app").innerHTML = `<p style="color:red;">${error.message}</p>`;
            }
        }
    
        const input = document.getElementById("profileInput");
        input.addEventListener("change", (e) => {
            givenProfile = e.target.value.trim();
            fetchProfile();
        });
    
        renderPage();
    </script>
    
</body>
</html>
