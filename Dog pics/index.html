<!DOCTYPE html>
<html lang="et">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Koerad</title>
</head>
<body>
  <h1>Koera pildid</h1>
  <button id="load-dog">Näita juhuslikku koera pilti</button>
  <div>
    <img id="dog-image" src="" alt="Koer" style="display:none;">
  </div>
  <div id="error-message"></div>

  <script>
    const btn = document.getElementById('load-dog');
    const img = document.getElementById('dog-image');
    const errorDiv = document.getElementById('error-message');

    btn.addEventListener('click', () => {
      errorDiv.textContent = '';
      fetch('https://dog.ceo/api/breeds/image/random')
        .then(response => {
          if (!response.ok) {
            throw new Error('Võrguprobleem: ' + response.status);
          }
          return response.json();
        })
        .then(data => {
          if (data.status !== 'success') {
            throw new Error('API vastas veaga: ' + data.status);
          }
          img.src = data.message;
          img.style.display = 'block';
        })
        .catch(err => {
          console.error(err);
          errorDiv.textContent = 'Tekkis viga: ' + err.message;
        });
    });
  </script>
</body>
</html>
